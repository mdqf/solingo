{% extends "base.html" %}

{% block title %}Ø¯ÛŒØ¨Ø§Ú¯ ÙˆØ¶Ø¹ÛŒØª - Solingo{% endblock %}

{% block content %}
<div class="container">
    <h1 class="mb-4">ğŸ”§ Ø¯ÛŒØ¨Ø§Ú¯ ÙˆØ¶Ø¹ÛŒØª Ú©Ø§Ø±Ø¨Ø±</h1>
    
    <!-- Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø± -->
    <div class="card mb-4">
        <div class="card-header">
            <h5 class="mb-0">ğŸ‘¤ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø±</h5>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-6">
                    <p><strong>ID:</strong> {{ user_info.id }}</p>
                    <p><strong>Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ:</strong> {{ user_info.username }}</p>
                    <p><strong>Ø³Ø·Ø­:</strong> {{ user_info.level }}</p>
                </div>
                <div class="col-md-6">
                    <p><strong>Ø§Ø³ØªØ±ÛŒÚ©:</strong> {{ user_info.streak }} Ø±ÙˆØ²</p>
                    <p><strong>Ø¢Ø®Ø±ÛŒÙ† ÙØ¹Ø§Ù„ÛŒØª:</strong> {{ user_info.last_active }}</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Ø¢Ù…Ø§Ø± Ú©Ù„Ù…Ø§Øª -->
    <div class="card mb-4">
        <div class="card-header">
            <h5 class="mb-0">ğŸ“Š Ø¢Ù…Ø§Ø± Ú©Ù„Ù…Ø§Øª</h5>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-6">
                    <p><strong>Ú©Ù„ Ú©Ù„Ù…Ø§Øª Ù…ÙˆØ¬ÙˆØ¯ Ø¯Ø± Ø³Ø·Ø­:</strong> {{ words_info.total_words_in_level }}</p>
                    <p><strong>Ú©Ù„Ù…Ø§Øª Ú©Ø§Ø±Ø¨Ø±:</strong> {{ words_info.user_words_total }}</p>
                    <p><strong>Ú©Ù„Ù…Ø§Øª Ù…ÙˆØ¹Ø¯ Ù…Ø±ÙˆØ±:</strong> {{ words_info.due_words }}</p>
                </div>
                <div class="col-md-6">
                    <p><strong>Ø¨Ø§ÛŒØ¯ Ú©Ù„Ù…Ù‡ Ø¬Ø¯ÛŒØ¯ Ù…Ø¹Ø±ÙÛŒ Ø´ÙˆØ¯ØŸ</strong> 
                        <span class="badge bg-{% if words_info.should_introduce_new %}success{% else %}warning{% endif %}">
                            {{ words_info.should_introduce_new }}
                        </span>
                    </p>
                    <p><strong>Ú©Ù„Ù…Ø§Øª Ø¬Ø¯ÛŒØ¯ Ù…ÙˆØ¬ÙˆØ¯:</strong> {{ words_info.new_words_available }}</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- ØªÙˆØ²ÛŒØ¹ ÙˆØ¶Ø¹ÛŒØª -->
    <div class="card mb-4">
        <div class="card-header">
            <h5 class="mb-0">ğŸ“ˆ ØªÙˆØ²ÛŒØ¹ ÙˆØ¶Ø¹ÛŒØª Ú©Ù„Ù…Ø§Øª</h5>
        </div>
        <div class="card-body">
            <div class="row">
                {% for state, count in states_dist.items() %}
                <div class="col-md-2 col-4 mb-3">
                    <div class="card text-center">
                        <div class="card-body">
                            <div class="h4">{{ count }}</div>
                            <small class="text-muted">{{ state }}</small>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
    
    <!-- Ù„Ø§Ú¯ Ú©Ø§Ù…Ù„ -->
    <div class="card">
        <div class="card-header">
            <h5 class="mb-0">ğŸ“ Ù„Ø§Ú¯ Ú©Ø§Ù…Ù„</h5>
        </div>
        <div class="card-body">
            <pre style="white-space: pre-wrap; font-family: monospace;">{{ log }}</pre>
        </div>
    </div>
    
    <!-- Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ action -->
    <div class="mt-4 text-center">
        <a href="{{ url_for('learning.api_start_session') }}" class="btn btn-primary me-2">
            ØªØ³Øª Ø´Ø±ÙˆØ¹ Ø¬Ù„Ø³Ù‡ (API)
        </a>
        <a href="{{ url_for('learning.start_session') }}" class="btn btn-success me-2">
            Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø´Ø±ÙˆØ¹ Ø¬Ù„Ø³Ù‡
        </a>
        <a href="{{ url_for('load_vocabulary') }}" class="btn btn-warning">
            Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©Ù„Ù…Ø§Øª
        </a>
    </div>
</div>
{% endblock %}